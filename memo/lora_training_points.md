LoRA 作成時のポイント

- [](#)

## LoRA 学習素材選び

- できる限りノイズが存在しない画像を選ぶ
  - アノテーションで個別にタグ付けすればなんとかなるが、「個別タグ付けの手間」や「学習安定性を損なうリスク」はある

## LoRA 学習画像のアノテーションのコツ

- 「学習素材画像に写っているもの」を「LoRA に設定するトリガーワード」に紐づけることを意識
- 学習素材画像のうち、「トリガーワードに紐づけるべきではないもの」をタグに追加
- つまり、属性マップのうち「構図情報」「ポーズ」に関わる情報は不要だし、スタイルマップのうち「品質」「背景情報」は不要なのでタグに追加
  - 更に部品 LoRA 作るときは「部品以外の属性」は全てタグに追加

## OneTrainer で調整すべきオプション

Stable Diffusion XL 1.0 のオプションから調整するべき内容

### model

Base Model -> 使いたいチェックポイントを選ぶ。

### Training

- Optimizer -> ADAMW 安定 (デフォのまま)
- Learning Rate Scheduler -> CONSTANT (デフォ)
- Learning Rate -> 8e-05 (0.00008) あたりがよさそう
- Epochs -> 20 (150 枚の素材に対する学習）
- Batch Size -> 2 (グラボのスペックに合わせる)

### Sampling

学習中に「特定のスパン」で「指定したプロンプトで画像生成」してくれる。  
どの Epoch あたりがベストそうかの指標わかるので、設定しとこ？

### LoRA

LoRA rank -> 16 あたりが良さげ
LoRA alpha -> 8 あたりが良さげ
